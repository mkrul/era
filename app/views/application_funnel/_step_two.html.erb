<section class="section is-hidden" id="funnel-step-two">
  <div class="container mt-5 funnel-step__container">
    <div class="is-vcentered columns is-multiline">
      <div class="column is-12 is-5-desktop mb-5 mr-auto pt-0">
        <h2 class="is-size-3-mobile is-size-3-tablet is-size-2 application-funnel__title">
          Select your specialization
        </h2>
        <p class="subtitle has-text-grey funnel-step__subtitle">
          What animals does your organization work with?
        </p>
        <div class="buttons">
          <input id="options_dogs" name="spec[options]" type="radio" value="true" onClick="changeAnimal('dogs')" />
          <label class="collection_radio_buttons radio-btn mr-3" for="options_dogs">Dogs</label>

          <input id="options_cats" name="spec[options]" type="radio" value="true" onClick="changeAnimal('cats')" />
          <label class="collection_radio_buttons radio-btn mr-3" for="options_cats">Cats</label>

          <input id="options_dogs_and_cats" name="spec[options]" type="radio" value="true" onClick="changeAnimal('dogs-and-cats')" />
          <label class="collection_radio_buttons radio-btn" for="options_dogs_and_cats">Dogs and Cats</label>
        </div>
      </div>
      <div class="column is-12 is-6-desktop" id="image-container">
        <%= image_tag "application_funnel/choose-animals.jpg", class: "image is-fullwidth funnel-step__default-image", id: "selection-img" %>
      </div>
    </div>
  </div>
  <div class="application-funnel__buttons-container">
    <%= button_tag "Next", type: "button", class: "button is-primary is-medium funnel-step__button mr-3", id: "next-btn", onclick: "goToStep('funnel-step-two', 'funnel-step-three')" %>
    <%= button_tag "Back", type: "button", class: "button is-secondary is-medium funnel-step__button", id: "back-btn", onclick: "goToStep('funnel-step-two', 'funnel-step-one')" %>
  </div>
</section>

<script type="text/javascript">
  // change image based on selection
  const changeAnimal = (selection) => {
    // remove funnel-step__default-image from selection-img and add funnel-step__selection-image
    const img = document.getElementById("selection-img");
    img.classList.remove("funnel-step__default-image");
    img.classList.add("funnel-step__image");

    if (selection === "dogs") {
      img.src = "/assets/application_funnel/choose-dogs.jpg";
    } else if (selection === "cats") {
      img.src = "/assets/application_funnel/choose-cats.jpg";
    } else if (selection === "dogs-and-cats"){
      img.src = "/assets/application_funnel/choose-dogs-and-cats.jpg";
    } else {
      img.src = "/assets/application_funnel/choose-animals.jpg";
    }
  }
</script>